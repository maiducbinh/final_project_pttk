<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" th:replace="~{base::layout(~{::section})}">
<head>
	<meta charset="UTF-8">
	<title>Home</title>
</head>
<body>
<section>
	<!-- Start Slider -->
	<div id="carouselExample" class="carousel slide" data-bs-ride="carousel">
		<div class="carousel-inner">
			<div class="carousel-item active">
				<img src="img/ecom1.png" class="d-block w-100" alt="..." height="500px" style="object-fit: cover;">
				<div class="carousel-caption d-none d-md-block">
					<h2>Welcome to G2Ecommerce</h2>
					<p>Discover Amazing Products at Great Prices</p>
					<a href="/products" class="btn btn-light">Shop Now</a>
				</div>
			</div>
			<div class="carousel-item">
				<img src="img/ecom3.jpg" class="d-block w-100" alt="..." height="500px" style="object-fit: cover;">
			</div>
			<div class="carousel-item">
				<img src="img/ecom2.jpg" class="d-block w-100" alt="..." height="500px" style="object-fit: cover;">
			</div>
		</div>
		<button class="carousel-control-prev" type="button" data-bs-target="#carouselExample" data-bs-slide="prev">
			<span class="carousel-control-prev-icon" aria-hidden="true"></span>
			<span class="visually-hidden">Previous</span>
		</button>
		<button class="carousel-control-next" type="button" data-bs-target="#carouselExample" data-bs-slide="next">
			<span class="carousel-control-next-icon" aria-hidden="true"></span>
			<span class="visually-hidden">Next</span>
		</button>
	</div>

	<!-- Features Section -->
	<div class="container mt-5 mb-5">
		<div class="row text-center">
			<div class="col-md-3">
				<i class="fas fa-truck fa-3x mb-3" style="color: #f94f2f;"></i>
				<h5>Free Shipping</h5>
				<p>On orders over $50</p>
			</div>
			<div class="col-md-3">
				<i class="fas fa-undo fa-3x mb-3" style="color: #f94f2f;"></i>
				<h5>Easy Returns</h5>
				<p>30 days return policy</p>
			</div>
			<div class="col-md-3">
				<i class="fas fa-lock fa-3x mb-3" style="color: #f94f2f;"></i>
				<h5>Secure Payment</h5>
				<p>100% secure payment</p>
			</div>
			<div class="col-md-3">
				<i class="fas fa-headset fa-3x mb-3" style="color: #f94f2f;"></i>
				<h5>24/7 Support</h5>
				<p>Dedicated support</p>
			</div>
		</div>
	</div>

	<!-- Categories -->
	<div class="container mt-5">
		<h2 class="text-center mb-4">Shop by Category</h2>
		<div class="row g-4">
			<div class="col-md-2" th:each="c:${category}">
				<div class="card h-100 border-0 shadow-sm hover-zoom">
					<div class="card-body text-center">
						<img th:src="@{'img/category_img/'+${c.imageName}}" class="img-fluid mb-3" style="max-height: 120px;">
						<h5><a th:href="@{'/products?category='+${c.name}}" class="text-decoration-none text-dark">[[${c.name}]]</a></h5>
					</div>
				</div>
			</div>
		</div>
	</div>

	<!-- Latest Products -->
	<div class="container mt-5 mb-5">
		<h2 class="text-center mb-4">Latest Products</h2>
		<div class="row g-4">
			<div class="col-md-3" th:each="p : ${products}">
				<div class="card h-100 border-0 shadow-sm product-card">
					<img th:src="@{'img/product_img/' + ${p.image}}" class="card-img-top p-3" style="height: 200px; object-fit: contain;">
					<div class="discount-badge" th:if="${p.discount > 0}">
						-[[${p.discount}]]%
					</div>
					<div class="card-body text-center">
						<h5 class="card-title">
							<a th:href="@{'/product/' + ${p.id}}" class="text-decoration-none text-dark">[[${p.title}]]</a>
						</h5>
						<!-- Hiển thị giá sản phẩm bằng VND với lớp màu sắc -->
						<p class="card-text">
							<span class="current-price">[[${#numbers.formatDecimal(p.discountPrice, 0, 'COMMA', 0, 'POINT')}]] ₫</span>
							<span class="original-price" th:if="${p.discount > 0}">
                                                [[${#numbers.formatDecimal(p.price, 0, 'COMMA', 0, 'POINT')}]] ₫
							</span>
						</p>
						<a th:href="@{'/product/' + ${p.id}}" style="background-color: #f94f2f; color: white; border-color: #f94f2f" class="btn btn-outline-dark">View Details</a>
					</div>
				</div>
			</div>
		</div>
	</div>

	<style>
		.hover-zoom:hover {
			transform: scale(1.05);
			transition: transform .3s ease;
		}

		.product-card {
			transition: all .3s ease;
		}

		.product-card:hover {
			transform: translateY(-5px);
			box-shadow: 0 .5rem 1rem rgba(0,0,0,.15)!important;
		}

		.carousel-item {
			position: relative;
		}

		.carousel-item::after {
			content: '';
			position: absolute;
			top: 0;
			left: 0;
			right: 0;
			bottom: 0;
			background: rgba(0,0,0,0.3);
		}

		.carousel-caption {
			bottom: 50%;
			transform: translateY(50%);
			z-index: 1;
		}

		.current-price {
			font-size: 1.1rem;
			font-weight: bold;
			color: #f94f2f;
		}

		.original-price {
			font-size: 0.9rem;
			color: #6c757d;
			text-decoration: line-through;
			margin-left: 8px;
		}

		.discount-badge {
			position: absolute;
			top: 10px;
			right: 10px;
			background-color: #f94f2f;
			color: white;
			padding: 5px 10px;
			border-radius: 3px;
			font-size: 14px;
		}
	</style>
</section>
</body>
</html>